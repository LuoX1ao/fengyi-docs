
# 无人机态势数据推送  


### 接口说明

无人机上电/起飞后，会由丰翼回调对接方的回调地址，定频推送无人机态势信息（如位置、高度、速度等）

### 接口地址

POST
回调URL

### 请求参数

| 字段名         | 属性 | 类型    | 是否必传 | 说明                                                         |
| -------------- | ---- | ------- | -------- | ------------------------------------------------------------ |
| orderID        |      | String  | 是       | 飞行记录编号 ：用于唯一标识一次飞行活动，即单个飞行器完成一次从起飞到降落的飞行过程 ；无人机起飞后开始推送，未起飞前推送默认值 “FLIGHT-DEFAULT"；● 格式：厂商的无人机生产序列号（sn）－8位起飞日期（YYYYMMDD）－8位随机码（数字或字母均可），例：1581F5FHD25G100C1SDN-20240320-owvGyLqe |
| flightCode     |      | String  | 否       | 航班号：航班任务生成后推送，无人机刚上电时不推送。例：CNC010002R0YS250819000B |
| sn             |      | String  | 是       | 无人机序列号：厂商的无人机生产序列号                         |
| flightStatus   |      | String  | 是       | 飞行状态：Prepare：准备飞行。无人机在地面上电；TakeOff：起飞。无人机开始飞行后，高度持续爬升至空中首个轨迹点的阶段；Inflight：巡航。无人机爬升至预定航线后，沿航线持续平稳飞行的阶段；Land：降落，无人机飞行至空中最后一个轨迹点后的降落阶段 |
| naviMode       |      | String  | 是       | 导航模式：位置模式；RTK模式；视觉模式；导航未收敛            |
| manufacturerID |      | String  | 是       | 统一社会信用代码：生产厂商的统一社会信用代码                 |
| uasID          |      | String  | 是       | 无人驾驶航空器实名登记号：若无登记号，推送默认值 “UAS-DEFAULT" |
| timeStamp      |      | String  | 是       | 当前时间：格式"yyyyMMddHHmmss"，例：2024012409500            |
| uasModel       |      | String  | 是       | 产品型号：字母、数字与符号的组合，如“ARK40”                  |
| coordinate     |      | Integer | 是       | 坐标系类型：1：WGS-84，GPS全球定位系统通常采用该坐标系; 2：CGCS2000，北斗卫星导航定位系统通常采用该坐标系; 3：GLONASS-PZ90，俄罗斯GLONASS卫星导航定位系统采用该坐标系 默认传1 |
| longitude      |      | Long    | 是       | 经度：单位：度（°）精确到小数点后7位，乘10的7次方后传输      |
| latitude       |      | Long    | 是       | 纬度：单位：度（°）精确到小数点后7位，乘10的7次方后传输      |
| height         |      | Integer | 是       | 真高：相对于起飞点的真高 单位：米（m）精确到小数点后1位，乘10以后传输 |
| altitude       |      | Integer | 是       | 海拔高度：MSL：海拔高度/平均海拔，单位：米（m）精确到小数点后1位，乘10以后传输 |
| VS             |      | Integer | 是       | 垂直飞行速度值：单位：米每秒（m/s）精确到小数点后1位，乘10后传输 |
| GS             |      | Integer | 是       | 水平飞行速度值：单位：米每秒（m/s）精确到小数点后1位，乘10后传输 |
| course         |      | Integer | 是       | 航迹角：无人驾驶航空器当前时刻所在位置真北方向顺时针量至地速方向的夹角，范围（0度，360度］，暂不具备航迹角测算能力的型号产品，精确到小数点后1位，乘10后传输 |
| roll           |      | Integer | 是       | 滚转角：范围（0度，360度］，精确到小数点后1位，乘10后传输    |
| pitch          |      | Integer | 是       | 俯仰角：范围（0度，360度］，精确到小数点后1位，乘10后传输    |
| RM             |      | Integer | 是       | 电池电量：单位mA.h，正整数传输，若无电量数据则不传（如使用非智能电池）1A.h=1000 mA.h |
| SOC            |      | Integer | 否       | 电池电量百分比：最大为100代表100%，若无电量数据则不输（如使用非智能电池） |
| voltage        |      | Integer | 否       | 电池电压：单位mV，正整数传输，若无电压数据则不传（如未采集BMS电压值）1V=1000mV |
| current        |      | Integer | 否       | 电池电流：单位mA，正整数传输，若无电流数据则不传（如未采集电流值）1A=1000mA |
| windSpeed      |      | Integer | 否       | 风速：单位：米每秒（m/s）,精确到小数点后1位，乘10后传输，若起降场未绑定气象站则不传 |
| windDirect     |      | Integer | 否       | 风向：单位：°，0-360°，风的来向方向，0°为正北，90°为正东，若起降场未绑定气象站则不传 |

### 请求响应参数

| 字段名   | 属性 | 类型    | 是否必传 | 说明                      |
| -------- | ---- | ------- | -------- | ------------------------- |
| code     |      | Integer  | 是       | 请求错误码 0:成功 非0:失败 |
| errorMsg |      | String  | 是       | 请求错误信息              |


​					
### 请求示例
```json
{
    "orderID": "ZTU25VA2204FSUHXT-20240204-17070329",
    "sn": "ZTU25VA2204FSUHXT",
    "flightStatus": "land",
    "manufacturerID": "91310106575864243X",
    "uasID": "xxxxxxx",
    "timeStamp": "20240124095001",
    "uasModel": "ZT-25",
    "coordinate": 1,
    "longitude": 1154458272,
    "latitude": 401929176,
    "heightType": 1,
    "height": 130,
    "altitude": 130,
    "VS": 30,
    "GS": 118,
    "course": 680
}
```

### 响应示例(成功code一定要是0)

```json
{
    "code":0,
    "errorMsg":null
}
```
